{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "/schemas/central",
  "title": "Config",
  "description": "The config file schema",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "googleapi": {
      "description": "Config keys related to Google SSO",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "SOCIAL_AUTH_GOOGLE_OAUTH2_KEY": {
          "description": "Google OAuth2 Key",
          "type": "string"
        },
        "SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET": {
          "description": "Google OAuth2 secret",
          "type": "string"
        },
        "SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS": {
          "description": "Google OAuth2 whitelisted domains",
          "type": "string"
        }
      }
    },
    "celery": {
      "description": "Celery configuration",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "broker": {
          "description": "Celery broker url",
          "type": "string"
        },
        "backend": {
          "description": "Celery backend url",
          "type": "string"
        }
      }
    },
    "access_modules": {
      "description": "List of access modules attached to this tool",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "git_urls": {
          "description": "List of git URLs of access modules",
          "type": "array"
        }
      }
    },
    "enigmaGroup": {
      "description": "Config related to enigma groups",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "MAIL_APPROVER_GROUPS": {
          "description": "List of mail approvers",
          "type": "array"
        }
      }
    },
    "emails": {
      "description": "List of emails used across the repo",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "access-approve": {
          "description": "Access approve email",
          "type": "string"
        }
      }
    },
    "background_task_manager": {
      "description": "Config for background task managment",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "type": {
          "description": "Currently it can be celery or threading",
          "type": "string"
        },
        "config": {
          "description": "if celery is selected, config for the same",
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "broker": {
              "description": "celery broker url, broker can be redis / mqtt",
              "type": "string"
            },
            "backend": {
              "description": "backed to store data for celery, can be redis / sql db url",
              "type": "string"
            },
            "need_monitoring": {
              "description": "true/false, if true, monitoring apps will be started",
              "type": "boolean"
            },
            "monitoring_apps": {
              "description": "app which will monitor celery tasks. django_celery_results / django_celery_monitor / django_celery_beat",
              "type": "string"
            }
          }
        }
      }
    }
  },
  "required": [
    "googleapi"
  ]
}
